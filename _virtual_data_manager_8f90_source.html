<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MODFLOW 6: /home/runner/work/modflow6/modflow6/src/Distributed/VirtualDataManager.f90 Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mf6-triangular-grid.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MODFLOW 6
   &#160;<span id="projectnumber">version 6.5.0</span>
   </div>
   <div id="projectbrief">MODFLOW 6 Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_virtual_data_manager_8f90_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">VirtualDataManager.f90</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_virtual_data_manager_8f90.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html">    1</a></span>&#160;<span class="keyword">module</span> <a class="code" href="namespacevirtualdatamanagermodule.html">virtualdatamanagermodule</a></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacekindmodule.html">kindmodule</a>, <span class="keywordtype">only</span>: i4b</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacestlvecintmodule.html">stlvecintmodule</a></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacevirtualdatalistsmodule.html">virtualdatalistsmodule</a>, <span class="keywordtype">only</span>: <a class="code" href="namespacevirtualdatalistsmodule.html#a494bb037cec56235f140e54319928e5d">virtual_model_list</a>, <a class="code" href="namespacevirtualdatalistsmodule.html#a8f62c1e4aa6db83f79611ae19d2915db">virtual_exchange_list</a></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacevirtualmodelmodule.html">virtualmodelmodule</a>, <span class="keywordtype">only</span>: <a class="code" href="namespacevirtualmodelmodule.html#abba1d301227ee5a4b869b54fc98e6e59">get_virtual_model</a></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacevirtualexchangemodule.html">virtualexchangemodule</a>, <span class="keywordtype">only</span>: <a class="code" href="namespacevirtualexchangemodule.html#ab1918334bf283f92687def799abce76b">get_virtual_exchange</a></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacevirtualsolutionmodule.html">virtualsolutionmodule</a></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacevirtualdatacontainermodule.html">virtualdatacontainermodule</a></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacerouterbasemodule.html">routerbasemodule</a></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacerouterfactorymodule.html">routerfactorymodule</a>, <span class="keywordtype">only</span>: <a class="code" href="namespacerouterfactorymodule.html#a23b5a52e461e8ed4ccd311bb599bfe32">create_router</a></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacenumericalsolutionmodule.html">numericalsolutionmodule</a>, <span class="keywordtype">only</span>: <a class="code" href="structnumericalsolutionmodule_1_1numericalsolutiontype.html">numericalsolutiontype</a></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacenumericalmodelmodule.html">numericalmodelmodule</a>, <span class="keywordtype">only</span>: <a class="code" href="structnumericalmodelmodule_1_1numericalmodeltype.html">numericalmodeltype</a>, <a class="code" href="namespacenumericalmodelmodule.html#a4d031f0a98348529066eef37676f018d">getnumericalmodelfromlist</a></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacenumericalexchangemodule.html">numericalexchangemodule</a>, <span class="keywordtype">only</span>: <a class="code" href="structnumericalexchangemodule_1_1numericalexchangetype.html">numericalexchangetype</a>, &amp;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                                     <a class="code" href="namespacenumericalexchangemodule.html#a09ae423b40a16a7841cbb95815029b0f">getnumericalexchangefromlist</a></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacedisconnexchangemodule.html">disconnexchangemodule</a>, <span class="keywordtype">only</span>: <a class="code" href="structdisconnexchangemodule_1_1disconnexchangetype.html">disconnexchangetype</a>, &amp;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                                   <a class="code" href="namespacedisconnexchangemodule.html#a63ac91d936c8b44104f8e091a81e7ac2">getdisconnexchangefromlist</a></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  <span class="keywordtype">use </span><a class="code" href="namespacespatialmodelconnectionmodule.html">spatialmodelconnectionmodule</a>, <span class="keywordtype">only</span>: <a class="code" href="structspatialmodelconnectionmodule_1_1spatialmodelconnectiontype.html">spatialmodelconnectiontype</a>, &amp;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                                          <a class="code" href="namespacespatialmodelconnectionmodule.html#a2b761db429763a32bde62e7d67119574">get_smc_from_list</a></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  <span class="keywordtype">implicit none</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  <span class="keywordtype">private</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">   22</a></span>&#160;  <span class="keyword">type</span>, <span class="keyword">public</span> :: <a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a95485754b242275e9b9f81190fb1fed0">   23</a></span>&#160;    <span class="keywordtype">integer(I4B)</span> :: nr_solutions</div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#abb3a18c35a7addf484405d255b0f3e56">   24</a></span>&#160;    <span class="keywordtype">integer(I4B)</span>, <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">allocatable</span> :: solution_ids</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#afc3a93c657f6fb4cd2463409e3f5c61e">   25</a></span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualsolutionmodule_1_1virtualsolutiontype.html">virtualsolutiontype</a>), <span class="keywordtype">dimension(:)</span>, <span class="keywordtype">pointer</span> :: virtual_solutions</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a6feb31b7d880bf5dd088d1c43cb9f20c">   26</a></span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structrouterbasemodule_1_1routerbasetype.html">routerbasetype</a>), <span class="keywordtype">pointer</span> :: router</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  <span class="keyword">contains</span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a360eaffe804ca83524444076e210e2ea">   28</a></span>&#160;    <span class="keywordtype">procedure</span> :: create =&gt; <a class="code" href="namespacevirtualdatamanagermodule.html#a12d18992b63fbcc1aba93bc8c839aff9">vds_create</a></div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#ad758902cd0456d66dc41ed0fee1e0073">   29</a></span>&#160;    <span class="keywordtype">procedure</span> :: <a class="code" href="_grid_sorting_8f90.html#a8d6fb88aa9b65a273f65b89226533321">init</a> =&gt; <a class="code" href="namespacevirtualdatamanagermodule.html#a4c277076ceb928ec8ea353673936ad4c">vds_init</a></div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#adf596214d6501da549352b5a5f4b0c3f">   30</a></span>&#160;    <span class="keywordtype">procedure</span> :: add_solution =&gt; <a class="code" href="namespacevirtualdatamanagermodule.html#ac33ea4d249e2305f3109405dab3c9b8f">vds_add_solution</a></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a110e59d67832c291587f90890b920534">   31</a></span>&#160;    <span class="keywordtype">procedure</span> :: reduce_halo =&gt; <a class="code" href="namespacevirtualdatamanagermodule.html#a1c72e10d0cff35c73940065ba27aed06">vds_reduce_halo</a></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a2cf8ed7302481909b88b72551b9c8e68">   32</a></span>&#160;    <span class="keywordtype">procedure</span> :: synchronize =&gt; <a class="code" href="namespacevirtualdatamanagermodule.html#a642d768b5d42fca2701e166946eae2c7">vds_synchronize</a></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a984e348519c2da72ae7a31e217002045">   33</a></span>&#160;    <span class="keywordtype">procedure</span> :: synchronize_sln =&gt; <a class="code" href="namespacevirtualdatamanagermodule.html#a25a5cee6abfcc0976fdaa4da5bf0aa78">vds_synchronize_sln</a></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a09bcc4c7fdb44f5746ab0da47aa440b3">   34</a></span>&#160;    <span class="keywordtype">procedure</span> :: <a class="code" href="namespacevirtualdatamanagermodule.html#a990f45c7fd63612d469ab61252285a4d">destroy</a></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">! private</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a7461a22b705d30de051b27f6b0cedfaf">   37</a></span>&#160;    <span class="keywordtype">procedure</span>, <span class="keywordtype">private</span> :: <a class="code" href="namespacevirtualdatamanagermodule.html#a642d768b5d42fca2701e166946eae2c7">vds_synchronize</a></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#afbfa4e64836aa788d07b42cea31aae5c">   38</a></span>&#160;    <span class="keywordtype">procedure</span>, <span class="keywordtype">private</span> :: <a class="code" href="namespacevirtualdatamanagermodule.html#a80edba34109a0d6efba7443c09db0425">prepare_all</a></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#abd15b5ea0907cfc7f6041a9c1896b66b">   39</a></span>&#160;    <span class="keywordtype">procedure</span>, <span class="keywordtype">private</span> :: <a class="code" href="namespacevirtualdatamanagermodule.html#a65d23892c29e52f0ae9a91ee4e3d8b69">link_all</a></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a287946eb966b2564a85a504477d991da">   40</a></span>&#160;    <span class="keywordtype">procedure</span>, <span class="keywordtype">private</span> :: <a class="code" href="namespacevirtualdatamanagermodule.html#a25a5cee6abfcc0976fdaa4da5bf0aa78">vds_synchronize_sln</a></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#aa67d8f7a4cdc58cf91db89352187393d">   41</a></span>&#160;    <span class="keywordtype">procedure</span>, <span class="keywordtype">private</span> :: <a class="code" href="namespacevirtualdatamanagermodule.html#a6575f800fe792dd05caf27682ade802e">prepare_sln</a></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a179abdbf05f66a15bfcc2fd1e096810f">   42</a></span>&#160;    <span class="keywordtype">procedure</span>, <span class="keywordtype">private</span> :: <a class="code" href="namespacevirtualdatamanagermodule.html#a68e0b413ba14a59a59247fc6bcb2bfff">link_sln</a></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html#a022d8ce096804cdd3b20431acd0995c1">   43</a></span>&#160;    <span class="keywordtype">procedure</span>, <span class="keywordtype">private</span> :: <a class="code" href="namespacevirtualdatamanagermodule.html#a8eef15fa840e51a231109e9fd4f23e5e">count_nr_solutions</a></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keyword">end type </span><a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">contains</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">  !&gt; @brief Initialize the virtual data store</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a12d18992b63fbcc1aba93bc8c839aff9">   49</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a12d18992b63fbcc1aba93bc8c839aff9">vds_create</a>(this, sim_mode)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">character(len=*)</span> :: sim_mode</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">! local</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: nr_sol</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    nr_sol = this%count_nr_solutions()</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keyword">allocate</span> (this%virtual_solutions(nr_sol))</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">allocate</span> (this%solution_ids(nr_sol))</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">! we use this one as a counter:</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    this%nr_solutions = 0</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">! create a router, sequential or parallel</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    this%router =&gt; <a class="code" href="namespacerouterfactorymodule.html#a23b5a52e461e8ed4ccd311bb599bfe32">create_router</a>(sim_mode)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a12d18992b63fbcc1aba93bc8c839aff9">vds_create</a></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">  !&gt; @brief Initialize internal components</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">  !&lt;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a4c277076ceb928ec8ea353673936ad4c">   69</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a4c277076ceb928ec8ea353673936ad4c">vds_init</a>(this)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keyword">call </span>this%router%initialize()</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keyword">end subroutine</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">  !&gt; @brief Add the models and exchanges from the passed solution</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">  !! to the virtual data structure. This can then be used</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">  !&lt; to efficiently sync only this particular solution.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#ac33ea4d249e2305f3109405dab3c9b8f">   79</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#ac33ea4d249e2305f3109405dab3c9b8f">vds_add_solution</a>(this, num_sol)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structnumericalsolutionmodule_1_1numericalsolutiontype.html">numericalsolutiontype</a>), <span class="keywordtype">pointer</span> :: num_sol</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">! local</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: i, im, ix, ihm, ihx</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualsolutionmodule_1_1virtualsolutiontype.html">virtualsolutiontype</a>), <span class="keywordtype">pointer</span> :: virt_sol</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structnumericalmodelmodule_1_1numericalmodeltype.html">numericalmodeltype</a>), <span class="keywordtype">pointer</span> :: num_mod</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structdisconnexchangemodule_1_1disconnexchangetype.html">disconnexchangetype</a>), <span class="keywordtype">pointer</span> :: exg</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structspatialmodelconnectionmodule_1_1spatialmodelconnectiontype.html">spatialmodelconnectiontype</a>), <span class="keywordtype">pointer</span> :: conn</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: model_id, exg_id</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">type</span>(<a class="code" href="structstlvecintmodule_1_1stlvecint.html">stlvecint</a>) :: model_ids, exchange_ids</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatacontainermodule_1_1virtualdatacontainertype.html">virtualdatacontainertype</a>), <span class="keywordtype">pointer</span> :: vdc</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    this%nr_solutions = this%nr_solutions + 1</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    virt_sol =&gt; this%virtual_solutions(this%nr_solutions)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keyword">call </span>model_ids%init()</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">call </span>exchange_ids%init()</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">! build the virtual solution</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    this%solution_ids(this%nr_solutions) = num_sol%id</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    virt_sol%solution_id = num_sol%id</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">! 1) adding all local models from the solution</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">do</span> im = 1, num_sol%modellist%Count()</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      num_mod =&gt; <a class="code" href="namespacenumericalmodelmodule.html#a4d031f0a98348529066eef37676f018d">getnumericalmodelfromlist</a>(num_sol%modellist, im)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="keyword">call </span>model_ids%push_back(num_mod%id)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">! 2) adding all local exchanges</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">do</span> ix = 1, num_sol%exchangelist%Count()</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      exg =&gt; <a class="code" href="namespacedisconnexchangemodule.html#a63ac91d936c8b44104f8e091a81e7ac2">getdisconnexchangefromlist</a>(num_sol%exchangelist, ix)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">if</span> (.not. <span class="keyword">associated</span>(exg)) cycle <span class="comment">! interface model is handled separately</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keyword">call </span>exchange_ids%push_back_unique(exg%id)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">! 3) add halo models and exchanges from interface models</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">do</span> ix = 1, num_sol%exchangelist%Count()</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      conn =&gt; <a class="code" href="namespacespatialmodelconnectionmodule.html#a2b761db429763a32bde62e7d67119574">get_smc_from_list</a>(num_sol%exchangelist, ix)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">if</span> (.not. <span class="keyword">associated</span>(conn)) cycle</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <span class="comment">! it&#39;s an interface model based exchanged, get</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="comment">! halo models and halo exchanges from connection</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">do</span> ihm = 1, conn%halo_models%size</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        model_id = conn%halo_models%at(ihm)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keyword">call </span>model_ids%push_back_unique(model_id)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keywordflow">      end do</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordflow">do</span> ihx = 1, conn%halo_exchanges%size</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        exg_id = conn%halo_exchanges%at(ihx)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keyword">call </span>exchange_ids%push_back_unique(exg_id)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keywordflow">      end do</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keyword">allocate</span> (virt_sol%models(model_ids%size))</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">allocate</span> (virt_sol%exchanges(exchange_ids%size))</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">! select virtual containers for models/exchanges</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">do</span> i = 1, model_ids%size</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      vdc =&gt; <a class="code" href="namespacevirtualmodelmodule.html#abba1d301227ee5a4b869b54fc98e6e59">get_virtual_model</a>(model_ids%at(i))</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      virt_sol%models(i)%ptr =&gt; vdc</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">do</span> i = 1, exchange_ids%size</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      vdc =&gt; <a class="code" href="namespacevirtualexchangemodule.html#ab1918334bf283f92687def799abce76b">get_virtual_exchange</a>(exchange_ids%at(i))</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      virt_sol%exchanges(i)%ptr =&gt; vdc</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">! cleanup</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">call </span>model_ids%destroy()</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">call </span>exchange_ids%destroy()</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#ac33ea4d249e2305f3109405dab3c9b8f">vds_add_solution</a></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">  !&gt; @brief Reduce the halo for all solutions. This will</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">  !&lt; activate the mapping tables in the virtual data items.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a1c72e10d0cff35c73940065ba27aed06">  153</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a1c72e10d0cff35c73940065ba27aed06">vds_reduce_halo</a>(this)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">! merge the interface maps over this process</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">! assign reduced maps to virtual data containers</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a1c72e10d0cff35c73940065ba27aed06">vds_reduce_halo</a></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">  !&gt; @brief Synchronize the full virtual data store for this stage</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">  !&lt;</span></div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a642d768b5d42fca2701e166946eae2c7">  164</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a642d768b5d42fca2701e166946eae2c7">vds_synchronize</a>(this, stage)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this<span class="comment"> !&lt; this vdm</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: stage<span class="comment"> !&lt; the stage to sync</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keyword">call </span>this%prepare_all(stage)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">call </span>this%link_all(stage)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keyword">call </span>this%router%route_all(stage)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a642d768b5d42fca2701e166946eae2c7">vds_synchronize</a></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a80edba34109a0d6efba7443c09db0425">  174</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a80edba34109a0d6efba7443c09db0425">prepare_all</a>(this, stage)</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: stage</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">! local</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: i</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatacontainermodule_1_1virtualdatacontainertype.html">virtualdatacontainertype</a>), <span class="keywordtype">pointer</span> :: vdc</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">! prepare all virtual data for this stage</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">do</span> i = 1, <a class="code" href="namespacevirtualdatalistsmodule.html#a494bb037cec56235f140e54319928e5d">virtual_model_list</a>%Count()</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      vdc =&gt; <a class="code" href="namespacevirtualdatacontainermodule.html#ad42d5894760af135c909a4d2d48e18dc">get_vdc_from_list</a>(<a class="code" href="namespacevirtualdatalistsmodule.html#a494bb037cec56235f140e54319928e5d">virtual_model_list</a>, i)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keyword">call </span>vdc%prepare_stage(stage)</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">do</span> i = 1, <a class="code" href="namespacevirtualdatalistsmodule.html#a8f62c1e4aa6db83f79611ae19d2915db">virtual_exchange_list</a>%Count()</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      vdc =&gt; <a class="code" href="namespacevirtualdatacontainermodule.html#ad42d5894760af135c909a4d2d48e18dc">get_vdc_from_list</a>(<a class="code" href="namespacevirtualdatalistsmodule.html#a8f62c1e4aa6db83f79611ae19d2915db">virtual_exchange_list</a>, i)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="keyword">call </span>vdc%prepare_stage(stage)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a80edba34109a0d6efba7443c09db0425">prepare_all</a></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a65d23892c29e52f0ae9a91ee4e3d8b69">  193</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a65d23892c29e52f0ae9a91ee4e3d8b69">link_all</a>(this, stage)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: stage</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">! local</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: i</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatacontainermodule_1_1virtualdatacontainertype.html">virtualdatacontainertype</a>), <span class="keywordtype">pointer</span> :: vdc</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">! link all local objects</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">do</span> i = 1, <a class="code" href="namespacevirtualdatalistsmodule.html#a494bb037cec56235f140e54319928e5d">virtual_model_list</a>%Count()</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      vdc =&gt; <a class="code" href="namespacevirtualdatacontainermodule.html#ad42d5894760af135c909a4d2d48e18dc">get_vdc_from_list</a>(<a class="code" href="namespacevirtualdatalistsmodule.html#a494bb037cec56235f140e54319928e5d">virtual_model_list</a>, i)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keyword">call </span>vdc%link_items(stage)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">do</span> i = 1, <a class="code" href="namespacevirtualdatalistsmodule.html#a8f62c1e4aa6db83f79611ae19d2915db">virtual_exchange_list</a>%Count()</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      vdc =&gt; <a class="code" href="namespacevirtualdatacontainermodule.html#ad42d5894760af135c909a4d2d48e18dc">get_vdc_from_list</a>(<a class="code" href="namespacevirtualdatalistsmodule.html#a8f62c1e4aa6db83f79611ae19d2915db">virtual_exchange_list</a>, i)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keyword">call </span>vdc%link_items(stage)</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a65d23892c29e52f0ae9a91ee4e3d8b69">link_all</a></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">  !&gt; @brief Synchronize one particular solution for this stage</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">  !&lt;</span></div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a25a5cee6abfcc0976fdaa4da5bf0aa78">  214</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a25a5cee6abfcc0976fdaa4da5bf0aa78">vds_synchronize_sln</a>(this, id_sln, stage)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">use </span><a class="code" href="namespacearrayhandlersmodule.html">arrayhandlersmodule</a>, <span class="keywordtype">only</span>: <a class="code" href="interfacearrayhandlersmodule_1_1ifind.html">ifind</a></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: id_sln<span class="comment"> !&lt; the id of the solution</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: stage</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">! local</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: sol_idx</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    sol_idx = <a class="code" href="interfacearrayhandlersmodule_1_1ifind.html">ifind</a>(this%solution_ids, id_sln)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keyword">call </span>this%prepare_sln(this%virtual_solutions(sol_idx), stage)</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keyword">call </span>this%link_sln(this%virtual_solutions(sol_idx), stage)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">call </span>this%router%route_sln(this%virtual_solutions(sol_idx), stage)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a25a5cee6abfcc0976fdaa4da5bf0aa78">vds_synchronize_sln</a></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  !&gt; @brief Force the virtual data containers (models,</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">  !! exchanges, etc.) to schedule their virtual data</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">  !&lt; items for synchronization</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a6575f800fe792dd05caf27682ade802e">  232</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a6575f800fe792dd05caf27682ade802e">prepare_sln</a>(this, virtual_sol, stage)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordtype">type</span>(<a class="code" href="structvirtualsolutionmodule_1_1virtualsolutiontype.html">virtualsolutiontype</a>) :: virtual_sol</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: stage</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">! local</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: i</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatacontainermodule_1_1virtualdatacontainertype.html">virtualdatacontainertype</a>), <span class="keywordtype">pointer</span> :: vdc</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">do</span> i = 1, <span class="keyword">size</span>(virtual_sol%models)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      vdc =&gt; virtual_sol%models(i)%ptr</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keyword">call </span>vdc%prepare_stage(stage)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">do</span> i = 1, <span class="keyword">size</span>(virtual_sol%exchanges)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      vdc =&gt; virtual_sol%exchanges(i)%ptr</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <span class="keyword">call </span>vdc%prepare_stage(stage)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a6575f800fe792dd05caf27682ade802e">prepare_sln</a></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">  !&gt; @brief Connect virtual memory items to their</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">  !&lt; sources when they are local for this stage</span></div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a68e0b413ba14a59a59247fc6bcb2bfff">  254</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a68e0b413ba14a59a59247fc6bcb2bfff">link_sln</a>(this, virtual_sol, stage)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordtype">type</span>(<a class="code" href="structvirtualsolutionmodule_1_1virtualsolutiontype.html">virtualsolutiontype</a>) :: virtual_sol</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: stage</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">! local</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: i</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatacontainermodule_1_1virtualdatacontainertype.html">virtualdatacontainertype</a>), <span class="keywordtype">pointer</span> :: vdc</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">do</span> i = 1, <span class="keyword">size</span>(virtual_sol%models)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      vdc =&gt; virtual_sol%models(i)%ptr</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keyword">call </span>vdc%link_items(stage)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">do</span> i = 1, <span class="keyword">size</span>(virtual_sol%exchanges)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      vdc =&gt; virtual_sol%exchanges(i)%ptr</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keyword">call </span>vdc%link_items(stage)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a68e0b413ba14a59a59247fc6bcb2bfff">link_sln</a></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">  !&gt; @brief Returns the number of Numerical Solutions</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">  !&lt; in this simulation</span></div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a8eef15fa840e51a231109e9fd4f23e5e">  276</a></span>&#160;  <span class="keyword">function </span><a class="code" href="namespacevirtualdatamanagermodule.html#a8eef15fa840e51a231109e9fd4f23e5e">count_nr_solutions</a>(this) <span class="keyword">result</span>(count)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordtype">use </span><a class="code" href="namespacelistsmodule.html">listsmodule</a>, <span class="keywordtype">only</span>: <a class="code" href="namespacelistsmodule.html#aa1a3cd1509449addb1bb6d6f4ff0b7fb">basesolutionlist</a></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordtype">use </span><a class="code" href="namespacenumericalsolutionmodule.html">numericalsolutionmodule</a>, <span class="keywordtype">only</span>: <a class="code" href="structnumericalsolutionmodule_1_1numericalsolutiontype.html">numericalsolutiontype</a></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: count</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">! local</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: isol</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">class</span>(*), <span class="keywordtype">pointer</span> :: sol</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">! count nr. of numerical solutions</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    count = 0</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">do</span> isol = 1, <a class="code" href="namespacelistsmodule.html#aa1a3cd1509449addb1bb6d6f4ff0b7fb">basesolutionlist</a>%Count()</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      sol =&gt; <a class="code" href="namespacelistsmodule.html#aa1a3cd1509449addb1bb6d6f4ff0b7fb">basesolutionlist</a>%GetItem(isol)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">select type</span> (sol)</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="keywordflow">      class is</span> (<a class="code" href="structnumericalsolutionmodule_1_1numericalsolutiontype.html">numericalsolutiontype</a>)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        count = count + 1</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keywordflow">      end select</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keyword">end function </span><a class="code" href="namespacevirtualdatamanagermodule.html#a8eef15fa840e51a231109e9fd4f23e5e">count_nr_solutions</a></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="namespacevirtualdatamanagermodule.html#a990f45c7fd63612d469ab61252285a4d">  297</a></span>&#160;  <span class="keyword">subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a990f45c7fd63612d469ab61252285a4d">destroy</a>(this)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagertype</a>) :: this</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">! local</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">integer(I4B)</span> :: i</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordtype">class</span>(<a class="code" href="structvirtualdatacontainermodule_1_1virtualdatacontainertype.html">virtualdatacontainertype</a>), <span class="keywordtype">pointer</span> :: vdc</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">do</span> i = 1, <a class="code" href="namespacevirtualdatalistsmodule.html#a494bb037cec56235f140e54319928e5d">virtual_model_list</a>%Count()</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      vdc =&gt; <a class="code" href="namespacevirtualdatacontainermodule.html#ad42d5894760af135c909a4d2d48e18dc">get_vdc_from_list</a>(<a class="code" href="namespacevirtualdatalistsmodule.html#a494bb037cec56235f140e54319928e5d">virtual_model_list</a>, i)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keyword">call </span>vdc%destroy()</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">call </span><a class="code" href="namespacevirtualdatalistsmodule.html#a494bb037cec56235f140e54319928e5d">virtual_model_list</a>%Clear(<a class="code" href="namespacevirtualdatamanagermodule.html#a990f45c7fd63612d469ab61252285a4d">destroy</a>=.true.)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">do</span> i = 1, <a class="code" href="namespacevirtualdatalistsmodule.html#a8f62c1e4aa6db83f79611ae19d2915db">virtual_exchange_list</a>%Count()</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      vdc =&gt; <a class="code" href="namespacevirtualdatacontainermodule.html#ad42d5894760af135c909a4d2d48e18dc">get_vdc_from_list</a>(<a class="code" href="namespacevirtualdatalistsmodule.html#a8f62c1e4aa6db83f79611ae19d2915db">virtual_exchange_list</a>, i)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="keyword">call </span>vdc%destroy()</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keyword">call </span><a class="code" href="namespacevirtualdatalistsmodule.html#a8f62c1e4aa6db83f79611ae19d2915db">virtual_exchange_list</a>%Clear(<a class="code" href="namespacevirtualdatamanagermodule.html#a990f45c7fd63612d469ab61252285a4d">destroy</a>=.true.)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">do</span> i = 1, this%nr_solutions</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keyword">deallocate</span> (this%virtual_solutions(i)%models)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keyword">deallocate</span> (this%virtual_solutions(i)%exchanges)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="keywordflow">    end do</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keyword">deallocate</span> (this%virtual_solutions)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keyword">end subroutine </span><a class="code" href="namespacevirtualdatamanagermodule.html#a990f45c7fd63612d469ab61252285a4d">destroy</a></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="keyword">end module </span><a class="code" href="namespacevirtualdatamanagermodule.html">virtualdatamanagermodule</a></div>
<div class="ttc" id="a_grid_sorting_8f90_html_a8d6fb88aa9b65a273f65b89226533321"><div class="ttname"><a href="_grid_sorting_8f90.html#a8d6fb88aa9b65a273f65b89226533321">init</a></div><div class="ttdeci">subroutine init()</div><div class="ttdef"><b>Definition:</b> <a href="_grid_sorting_8f90_source.html#l00023">GridSorting.f90:24</a></div></div>
<div class="ttc" id="ainterfacearrayhandlersmodule_1_1ifind_html"><div class="ttname"><a href="interfacearrayhandlersmodule_1_1ifind.html">arrayhandlersmodule::ifind</a></div><div class="ttdef"><b>Definition:</b> <a href="_array_handlers_8f90_source.html#l00036">ArrayHandlers.f90:36</a></div></div>
<div class="ttc" id="anamespacearrayhandlersmodule_html"><div class="ttname"><a href="namespacearrayhandlersmodule.html">arrayhandlersmodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_array_handlers_8f90_source.html#l00001">ArrayHandlers.f90:1</a></div></div>
<div class="ttc" id="anamespacedisconnexchangemodule_html"><div class="ttname"><a href="namespacedisconnexchangemodule.html">disconnexchangemodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_dis_conn_exchange_8f90_source.html#l00001">DisConnExchange.f90:1</a></div></div>
<div class="ttc" id="anamespacedisconnexchangemodule_html_a63ac91d936c8b44104f8e091a81e7ac2"><div class="ttname"><a href="namespacedisconnexchangemodule.html#a63ac91d936c8b44104f8e091a81e7ac2">disconnexchangemodule::getdisconnexchangefromlist</a></div><div class="ttdeci">class(disconnexchangetype) function, pointer, public getdisconnexchangefromlist(list, idx)</div><div class="ttdef"><b>Definition:</b> <a href="_dis_conn_exchange_8f90_source.html#l00454">DisConnExchange.f90:455</a></div></div>
<div class="ttc" id="anamespacekindmodule_html"><div class="ttname"><a href="namespacekindmodule.html">kindmodule</a></div><div class="ttdoc">This module defines variable data types.</div><div class="ttdef"><b>Definition:</b> <a href="kind_8f90_source.html#l00008">kind.f90:8</a></div></div>
<div class="ttc" id="anamespacelistsmodule_html"><div class="ttname"><a href="namespacelistsmodule.html">listsmodule</a></div><div class="ttdef"><b>Definition:</b> <a href="mf6lists_8f90_source.html#l00001">mf6lists.f90:1</a></div></div>
<div class="ttc" id="anamespacelistsmodule_html_aa1a3cd1509449addb1bb6d6f4ff0b7fb"><div class="ttname"><a href="namespacelistsmodule.html#aa1a3cd1509449addb1bb6d6f4ff0b7fb">listsmodule::basesolutionlist</a></div><div class="ttdeci">type(listtype), public basesolutionlist</div><div class="ttdef"><b>Definition:</b> <a href="mf6lists_8f90_source.html#l00019">mf6lists.f90:19</a></div></div>
<div class="ttc" id="anamespacenumericalexchangemodule_html"><div class="ttname"><a href="namespacenumericalexchangemodule.html">numericalexchangemodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_numerical_exchange_8f90_source.html#l00001">NumericalExchange.f90:1</a></div></div>
<div class="ttc" id="anamespacenumericalexchangemodule_html_a09ae423b40a16a7841cbb95815029b0f"><div class="ttname"><a href="namespacenumericalexchangemodule.html#a09ae423b40a16a7841cbb95815029b0f">numericalexchangemodule::getnumericalexchangefromlist</a></div><div class="ttdeci">class(numericalexchangetype) function, pointer, public getnumericalexchangefromlist(list, idx)</div><div class="ttdef"><b>Definition:</b> <a href="_numerical_exchange_8f90_source.html#l00290">NumericalExchange.f90:291</a></div></div>
<div class="ttc" id="anamespacenumericalmodelmodule_html"><div class="ttname"><a href="namespacenumericalmodelmodule.html">numericalmodelmodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_numerical_model_8f90_source.html#l00001">NumericalModel.f90:1</a></div></div>
<div class="ttc" id="anamespacenumericalmodelmodule_html_a4d031f0a98348529066eef37676f018d"><div class="ttname"><a href="namespacenumericalmodelmodule.html#a4d031f0a98348529066eef37676f018d">numericalmodelmodule::getnumericalmodelfromlist</a></div><div class="ttdeci">class(numericalmodeltype) function, pointer, public getnumericalmodelfromlist(list, idx)</div><div class="ttdef"><b>Definition:</b> <a href="_numerical_model_8f90_source.html#l00437">NumericalModel.f90:438</a></div></div>
<div class="ttc" id="anamespacenumericalsolutionmodule_html"><div class="ttname"><a href="namespacenumericalsolutionmodule.html">numericalsolutionmodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_numerical_solution_8f90_source.html#l00003">NumericalSolution.f90:3</a></div></div>
<div class="ttc" id="anamespacerouterbasemodule_html"><div class="ttname"><a href="namespacerouterbasemodule.html">routerbasemodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_router_base_8f90_source.html#l00001">RouterBase.f90:1</a></div></div>
<div class="ttc" id="anamespacerouterfactorymodule_html"><div class="ttname"><a href="namespacerouterfactorymodule.html">routerfactorymodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_router_factory_8_f90_source.html#l00001">RouterFactory.F90:1</a></div></div>
<div class="ttc" id="anamespacerouterfactorymodule_html_a23b5a52e461e8ed4ccd311bb599bfe32"><div class="ttname"><a href="namespacerouterfactorymodule.html#a23b5a52e461e8ed4ccd311bb599bfe32">routerfactorymodule::create_router</a></div><div class="ttdeci">class(routerbasetype) function, pointer, public create_router(sim_mode)</div><div class="ttdoc">@ Brief Create the proper router, depends on simulation mode (parallel or sequential) and type of bui...</div><div class="ttdef"><b>Definition:</b> <a href="_router_factory_8_f90_source.html#l00018">RouterFactory.F90:19</a></div></div>
<div class="ttc" id="anamespacespatialmodelconnectionmodule_html"><div class="ttname"><a href="namespacespatialmodelconnectionmodule.html">spatialmodelconnectionmodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_spatial_model_connection_8f90_source.html#l00001">SpatialModelConnection.f90:1</a></div></div>
<div class="ttc" id="anamespacespatialmodelconnectionmodule_html_a2b761db429763a32bde62e7d67119574"><div class="ttname"><a href="namespacespatialmodelconnectionmodule.html#a2b761db429763a32bde62e7d67119574">spatialmodelconnectionmodule::get_smc_from_list</a></div><div class="ttdeci">class(spatialmodelconnectiontype) function, pointer, public get_smc_from_list(list, idx)</div><div class="ttdoc">Get the connection from a list.</div><div class="ttdef"><b>Definition:</b> <a href="_spatial_model_connection_8f90_source.html#l00635">SpatialModelConnection.f90:636</a></div></div>
<div class="ttc" id="anamespacestlvecintmodule_html"><div class="ttname"><a href="namespacestlvecintmodule.html">stlvecintmodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_t_l_vec_int_8f90_source.html#l00001">STLVecInt.f90:1</a></div></div>
<div class="ttc" id="anamespacevirtualdatacontainermodule_html"><div class="ttname"><a href="namespacevirtualdatacontainermodule.html">virtualdatacontainermodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_container_8f90_source.html#l00001">VirtualDataContainer.f90:1</a></div></div>
<div class="ttc" id="anamespacevirtualdatacontainermodule_html_ad42d5894760af135c909a4d2d48e18dc"><div class="ttname"><a href="namespacevirtualdatacontainermodule.html#ad42d5894760af135c909a4d2d48e18dc">virtualdatacontainermodule::get_vdc_from_list</a></div><div class="ttdeci">class(virtualdatacontainertype) function, pointer, public get_vdc_from_list(list, idx)</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_container_8f90_source.html#l00351">VirtualDataContainer.f90:352</a></div></div>
<div class="ttc" id="anamespacevirtualdatalistsmodule_html"><div class="ttname"><a href="namespacevirtualdatalistsmodule.html">virtualdatalistsmodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_lists_8f90_source.html#l00001">VirtualDataLists.f90:1</a></div></div>
<div class="ttc" id="anamespacevirtualdatalistsmodule_html_a494bb037cec56235f140e54319928e5d"><div class="ttname"><a href="namespacevirtualdatalistsmodule.html#a494bb037cec56235f140e54319928e5d">virtualdatalistsmodule::virtual_model_list</a></div><div class="ttdeci">type(listtype), public virtual_model_list</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_lists_8f90_source.html#l00009">VirtualDataLists.f90:9</a></div></div>
<div class="ttc" id="anamespacevirtualdatalistsmodule_html_a8f62c1e4aa6db83f79611ae19d2915db"><div class="ttname"><a href="namespacevirtualdatalistsmodule.html#a8f62c1e4aa6db83f79611ae19d2915db">virtualdatalistsmodule::virtual_exchange_list</a></div><div class="ttdeci">type(listtype), public virtual_exchange_list</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_lists_8f90_source.html#l00011">VirtualDataLists.f90:11</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html">virtualdatamanagermodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00001">VirtualDataManager.f90:1</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a12d18992b63fbcc1aba93bc8c839aff9"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a12d18992b63fbcc1aba93bc8c839aff9">virtualdatamanagermodule::vds_create</a></div><div class="ttdeci">subroutine vds_create(this, sim_mode)</div><div class="ttdoc">Initialize the virtual data store.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00049">VirtualDataManager.f90:50</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a1c72e10d0cff35c73940065ba27aed06"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a1c72e10d0cff35c73940065ba27aed06">virtualdatamanagermodule::vds_reduce_halo</a></div><div class="ttdeci">subroutine vds_reduce_halo(this)</div><div class="ttdoc">Reduce the halo for all solutions. This will.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00153">VirtualDataManager.f90:154</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a25a5cee6abfcc0976fdaa4da5bf0aa78"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a25a5cee6abfcc0976fdaa4da5bf0aa78">virtualdatamanagermodule::vds_synchronize_sln</a></div><div class="ttdeci">subroutine vds_synchronize_sln(this, id_sln, stage)</div><div class="ttdoc">Synchronize one particular solution for this stage.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00214">VirtualDataManager.f90:215</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a4c277076ceb928ec8ea353673936ad4c"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a4c277076ceb928ec8ea353673936ad4c">virtualdatamanagermodule::vds_init</a></div><div class="ttdeci">subroutine vds_init(this)</div><div class="ttdoc">Initialize internal components.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00069">VirtualDataManager.f90:70</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a642d768b5d42fca2701e166946eae2c7"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a642d768b5d42fca2701e166946eae2c7">virtualdatamanagermodule::vds_synchronize</a></div><div class="ttdeci">subroutine vds_synchronize(this, stage)</div><div class="ttdoc">Synchronize the full virtual data store for this stage.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00164">VirtualDataManager.f90:165</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a6575f800fe792dd05caf27682ade802e"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a6575f800fe792dd05caf27682ade802e">virtualdatamanagermodule::prepare_sln</a></div><div class="ttdeci">subroutine prepare_sln(this, virtual_sol, stage)</div><div class="ttdoc">Force the virtual data containers (models, exchanges, etc.) to schedule their virtual data.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00232">VirtualDataManager.f90:233</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a65d23892c29e52f0ae9a91ee4e3d8b69"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a65d23892c29e52f0ae9a91ee4e3d8b69">virtualdatamanagermodule::link_all</a></div><div class="ttdeci">subroutine link_all(this, stage)</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00193">VirtualDataManager.f90:194</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a68e0b413ba14a59a59247fc6bcb2bfff"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a68e0b413ba14a59a59247fc6bcb2bfff">virtualdatamanagermodule::link_sln</a></div><div class="ttdeci">subroutine link_sln(this, virtual_sol, stage)</div><div class="ttdoc">Connect virtual memory items to their.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00254">VirtualDataManager.f90:255</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a80edba34109a0d6efba7443c09db0425"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a80edba34109a0d6efba7443c09db0425">virtualdatamanagermodule::prepare_all</a></div><div class="ttdeci">subroutine prepare_all(this, stage)</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00174">VirtualDataManager.f90:175</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a8eef15fa840e51a231109e9fd4f23e5e"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a8eef15fa840e51a231109e9fd4f23e5e">virtualdatamanagermodule::count_nr_solutions</a></div><div class="ttdeci">integer(i4b) function count_nr_solutions(this)</div><div class="ttdoc">Returns the number of Numerical Solutions.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00276">VirtualDataManager.f90:277</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_a990f45c7fd63612d469ab61252285a4d"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#a990f45c7fd63612d469ab61252285a4d">virtualdatamanagermodule::destroy</a></div><div class="ttdeci">subroutine destroy(this)</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00297">VirtualDataManager.f90:298</a></div></div>
<div class="ttc" id="anamespacevirtualdatamanagermodule_html_ac33ea4d249e2305f3109405dab3c9b8f"><div class="ttname"><a href="namespacevirtualdatamanagermodule.html#ac33ea4d249e2305f3109405dab3c9b8f">virtualdatamanagermodule::vds_add_solution</a></div><div class="ttdeci">subroutine vds_add_solution(this, num_sol)</div><div class="ttdoc">Add the models and exchanges from the passed solution to the virtual data structure....</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00079">VirtualDataManager.f90:80</a></div></div>
<div class="ttc" id="anamespacevirtualexchangemodule_html"><div class="ttname"><a href="namespacevirtualexchangemodule.html">virtualexchangemodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_virtual_exchange_8f90_source.html#l00001">VirtualExchange.f90:1</a></div></div>
<div class="ttc" id="anamespacevirtualexchangemodule_html_ab1918334bf283f92687def799abce76b"><div class="ttname"><a href="namespacevirtualexchangemodule.html#ab1918334bf283f92687def799abce76b">virtualexchangemodule::get_virtual_exchange</a></div><div class="ttdeci">class(virtualexchangetype) function, pointer, public get_virtual_exchange(exg_id)</div><div class="ttdoc">Returs a virtual exchange with the specified id.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_exchange_8f90_source.html#l00288">VirtualExchange.f90:289</a></div></div>
<div class="ttc" id="anamespacevirtualmodelmodule_html"><div class="ttname"><a href="namespacevirtualmodelmodule.html">virtualmodelmodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_virtual_model_8f90_source.html#l00001">VirtualModel.f90:1</a></div></div>
<div class="ttc" id="anamespacevirtualmodelmodule_html_abba1d301227ee5a4b869b54fc98e6e59"><div class="ttname"><a href="namespacevirtualmodelmodule.html#abba1d301227ee5a4b869b54fc98e6e59">virtualmodelmodule::get_virtual_model</a></div><div class="ttdeci">class(virtualmodeltype) function, pointer, public get_virtual_model(model_id)</div><div class="ttdoc">Returns a virtual model with the specified id.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_model_8f90_source.html#l00342">VirtualModel.f90:343</a></div></div>
<div class="ttc" id="anamespacevirtualsolutionmodule_html"><div class="ttname"><a href="namespacevirtualsolutionmodule.html">virtualsolutionmodule</a></div><div class="ttdef"><b>Definition:</b> <a href="_virtual_solution_8f90_source.html#l00001">VirtualSolution.f90:1</a></div></div>
<div class="ttc" id="astructdisconnexchangemodule_1_1disconnexchangetype_html"><div class="ttname"><a href="structdisconnexchangemodule_1_1disconnexchangetype.html">disconnexchangemodule::disconnexchangetype</a></div><div class="ttdoc">Exchange based on connection between discretizations of DisBaseType. The data specifies the connectio...</div><div class="ttdef"><b>Definition:</b> <a href="_dis_conn_exchange_8f90_source.html#l00023">DisConnExchange.f90:23</a></div></div>
<div class="ttc" id="astructnumericalexchangemodule_1_1numericalexchangetype_html"><div class="ttname"><a href="structnumericalexchangemodule_1_1numericalexchangetype.html">numericalexchangemodule::numericalexchangetype</a></div><div class="ttdef"><b>Definition:</b> <a href="_numerical_exchange_8f90_source.html#l00016">NumericalExchange.f90:16</a></div></div>
<div class="ttc" id="astructnumericalmodelmodule_1_1numericalmodeltype_html"><div class="ttname"><a href="structnumericalmodelmodule_1_1numericalmodeltype.html">numericalmodelmodule::numericalmodeltype</a></div><div class="ttdef"><b>Definition:</b> <a href="_numerical_model_8f90_source.html#l00017">NumericalModel.f90:17</a></div></div>
<div class="ttc" id="astructnumericalsolutionmodule_1_1numericalsolutiontype_html"><div class="ttname"><a href="structnumericalsolutionmodule_1_1numericalsolutiontype.html">numericalsolutionmodule::numericalsolutiontype</a></div><div class="ttdef"><b>Definition:</b> <a href="_numerical_solution_8f90_source.html#l00048">NumericalSolution.f90:48</a></div></div>
<div class="ttc" id="astructrouterbasemodule_1_1routerbasetype_html"><div class="ttname"><a href="structrouterbasemodule_1_1routerbasetype.html">routerbasemodule::routerbasetype</a></div><div class="ttdef"><b>Definition:</b> <a href="_router_base_8f90_source.html#l00007">RouterBase.f90:7</a></div></div>
<div class="ttc" id="astructspatialmodelconnectionmodule_1_1spatialmodelconnectiontype_html"><div class="ttname"><a href="structspatialmodelconnectionmodule_1_1spatialmodelconnectiontype.html">spatialmodelconnectionmodule::spatialmodelconnectiontype</a></div><div class="ttdoc">Class to manage spatial connection of a model to one or more models of the same type....</div><div class="ttdef"><b>Definition:</b> <a href="_spatial_model_connection_8f90_source.html#l00037">SpatialModelConnection.f90:37</a></div></div>
<div class="ttc" id="astructstlvecintmodule_1_1stlvecint_html"><div class="ttname"><a href="structstlvecintmodule_1_1stlvecint.html">stlvecintmodule::stlvecint</a></div><div class="ttdef"><b>Definition:</b> <a href="_s_t_l_vec_int_8f90_source.html#l00012">STLVecInt.f90:12</a></div></div>
<div class="ttc" id="astructvirtualdatacontainermodule_1_1virtualdatacontainertype_html"><div class="ttname"><a href="structvirtualdatacontainermodule_1_1virtualdatacontainertype.html">virtualdatacontainermodule::virtualdatacontainertype</a></div><div class="ttdoc">Container (list) of virtual data items.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_container_8f90_source.html#l00039">VirtualDataContainer.f90:39</a></div></div>
<div class="ttc" id="astructvirtualdatamanagermodule_1_1virtualdatamanagertype_html"><div class="ttname"><a href="structvirtualdatamanagermodule_1_1virtualdatamanagertype.html">virtualdatamanagermodule::virtualdatamanagertype</a></div><div class="ttdef"><b>Definition:</b> <a href="_virtual_data_manager_8f90_source.html#l00022">VirtualDataManager.f90:22</a></div></div>
<div class="ttc" id="astructvirtualsolutionmodule_1_1virtualsolutiontype_html"><div class="ttname"><a href="structvirtualsolutionmodule_1_1virtualsolutiontype.html">virtualsolutionmodule::virtualsolutiontype</a></div><div class="ttdoc">This bundles all virtual data for a particular solution.</div><div class="ttdef"><b>Definition:</b> <a href="_virtual_solution_8f90_source.html#l00010">VirtualSolution.f90:10</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_beeb38743322ab7e14829ea581a5f71a.html">Distributed</a></li><li class="navelem"><a class="el" href="_virtual_data_manager_8f90.html">VirtualDataManager.f90</a></li>
    <li class="footer">Generated on Mon Mar 20 2023 18:25:01 for MODFLOW 6 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
